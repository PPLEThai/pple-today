enum HashTagStatus {
    PUBLISH
    SUSPEND
}

enum TopicStatus {
    PUBLISHED
    SUSPENDED
}

model HashTag {
    id        String        @id @default(cuid())
    name      String        @unique
    status    HashTagStatus @default(PUBLISH)
    createdAt DateTime      @default(now())
    updatedAt DateTime      @updatedAt

    hashTagInTopics HashTagInTopic[]
    postHashTags    PostHashTag[]

    @@index([name])
}

model Topic {
    id              String      @id @default(cuid())
    name            String      @unique
    description     String?
    bannerImagePath String?
    status          TopicStatus @default(SUSPENDED)
    createdAt       DateTime    @default(now())
    updatedAt       DateTime    @updatedAt

    hashTagInTopics    HashTagInTopic[]
    followedTopics     UserFollowsTopic[]
    pollTopics         PollTopic[]
    announcementTopics AnnouncementTopic[]

    @@index([name])
}

model HashTagInTopic {
    topicId   String
    hashTagId String
    createdAt DateTime @default(now())

    topic   Topic   @relation(fields: [topicId], references: [id])
    hashTag HashTag @relation(fields: [hashTagId], references: [id])

    @@id([topicId, hashTagId])
    @@index([hashTagId])
    @@index([topicId])
}
