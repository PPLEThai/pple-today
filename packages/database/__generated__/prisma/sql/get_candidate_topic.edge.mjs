
/* !!! This is code generated by Prisma. Do not edit directly. !!!
/* eslint-disable */
import { makeTypedQueryFactory as $mkFactory } from "../runtime/wasm-compiler-edge.js"
export const get_candidate_topic = /*#__PURE__*/ $mkFactory("WITH\ncandidate_topic AS (\nSELECT * FROM get_candidate_topic_by_follower($1)\nUNION ALL\nSELECT * FROM get_candidate_topic_by_interaction($1)\nUNION ALL\nSELECT * FROM get_candidate_topic_by_similar_hashtag($1)\n),\n\nother_candidate_topic AS (\nSELECT\nt.id AS topic_id,\nRANDOM() / 10 AS score\nFROM\n\"Topic\" t\nLEFT JOIN candidate_topic ct ON t.id = ct.topic_id\nWHERE\nct.topic_id IS NULL\nORDER BY score DESC\nLIMIT 10\n),\n\nfinal_candidate_score AS (\nSELECT\nother_candidate_topic.topic_id,\nother_candidate_topic.score\nFROM\nother_candidate_topic\nUNION ALL\nSELECT\ncandidate_topic.topic_id,\n(candidate_topic.score::DOUBLE PRECISION + RANDOM() / 10) AS score\nFROM\ncandidate_topic\n)\n\nSELECT\nfinal_candidate_score.\"topic_id\"\nFROM\nfinal_candidate_score\nORDER BY final_candidate_score.\"score\"\nLIMIT 10;")
